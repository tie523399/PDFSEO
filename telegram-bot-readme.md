# Telegram Bot 使用說明

## 初始設定
1. 在 `.env` 檔案中設定：
   - `TELEGRAM_BOT_TOKEN` - 您的 Bot Token
   - `TELEGRAM_ADMIN_IDS` - 管理員 Telegram ID（逗號分隔）

2. 啟動 Bot：
   - 向您的 Bot 發送 `/start` 命令
   - Bot 會顯示主選單鍵盤

## 鍵盤按鈕功能

### 主選單
- 📰 **新聞管理** - 進入新聞管理子選單
- 📢 **廣告管理** - 進入廣告管理子選單
- 📊 **系統狀態** - 查看系統統計資訊
- 👥 **在線人數** - 管理在線人數監控
- ⚙️ **設定** - 系統設定選項
- ❓ **幫助** - 顯示使用說明

### 新聞管理子選單
- 📰 **查看新聞** - 顯示所有新聞列表
- ➕ **新增新聞** - 創建新的新聞文章
- ✏️ **編輯新聞** - 修改現有新聞（開發中）
- 🗑️ **刪除新聞** - 刪除新聞文章
- 🔙 **返回主選單** - 返回主選單

### 廣告管理子選單
- 📢 **查看廣告** - 顯示所有廣告
- ➕ **新增廣告** - 創建新廣告（支援圖片上傳）
- ✏️ **編輯廣告** - 修改廣告內容（開發中）
- 🗑️ **刪除廣告** - 刪除廣告
- 🔄 **切換廣告狀態** - 啟用/停用廣告
- 🔙 **返回主選單** - 返回主選單

## 操作流程

### 新增新聞
1. 點擊「新聞管理」→「新增新聞」
2. 輸入新聞標題
3. 輸入新聞內容
4. 系統自動保存並返回新聞管理選單

### 新增廣告
1. 點擊「廣告管理」→「新增廣告」
2. 選擇廣告位置（頂部/側邊欄/底部/彈出）
3. 輸入廣告標題
4. 輸入廣告連結
5. 上傳廣告圖片
6. 系統自動保存並返回廣告管理選單

### 取消操作
- 在任何輸入步驟中，點擊「❌ 取消」按鈕可取消當前操作

## Bot 命令（已棄用）
以下命令已被鍵盤按鈕取代，但仍可使用：
- `/start` - 顯示主選單
- `/news` - 查看新聞
- `/add_news` - 新增新聞
- `/delete_news` - 刪除新聞
- `/ads` - 查看廣告
- `/add_ad` - 新增廣告
- `/delete_ad` - 刪除廣告
- `/status` - 系統狀態
- `/help` - 幫助

## 在線人數監控

系統會自動追蹤網站訪客，並在達到設定閾值時通過 Telegram Bot 發送通知。

### 功能特點
- 即時訪客計數
- 國家/地區統計
- 自動閾值通知
- 5 分鐘會話超時
- SSE 即時更新

### 預設通知閾值
- 10 人
- 50 人
- 100 人
- 500 人
- 1000 人 